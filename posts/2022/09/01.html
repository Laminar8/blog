<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="/blog/favicon.png" />
		<meta name="viewport" content="width=device-width" />
		<meta http-equiv="content-security-policy" content=""><title>Subscribe Amazon RDS Notification And Get Notifications From Slack</title><meta name="description" content="Subscribe Amazon RDS Notification And Get Notifications From Slack" data-svelte="svelte-1x9odug"><!-- HTML_TAG_START --><style>pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}/*!
  Theme: GitHub
  Description: Light theme as seen on github.com
  Author: github.com
  Maintainer: @Hirse
  Updated: 2021-05-15

  Outdated base version: https://github.com/primer/github-syntax-light
  Current colors taken from GitHub's CSS
*/.hljs{color:#24292e;background:#fff}.hljs-doctag,.hljs-keyword,.hljs-meta .hljs-keyword,.hljs-template-tag,.hljs-template-variable,.hljs-type,.hljs-variable.language_{color:#d73a49}.hljs-title,.hljs-title.class_,.hljs-title.class_.inherited__,.hljs-title.function_{color:#6f42c1}.hljs-attr,.hljs-attribute,.hljs-literal,.hljs-meta,.hljs-number,.hljs-operator,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-variable{color:#005cc5}.hljs-meta .hljs-string,.hljs-regexp,.hljs-string{color:#032f62}.hljs-built_in,.hljs-symbol{color:#e36209}.hljs-code,.hljs-comment,.hljs-formula{color:#6a737d}.hljs-name,.hljs-quote,.hljs-selector-pseudo,.hljs-selector-tag{color:#22863a}.hljs-subst{color:#24292e}.hljs-section{color:#005cc5;font-weight:700}.hljs-bullet{color:#735c0f}.hljs-emphasis{color:#24292e;font-style:italic}.hljs-strong{color:#24292e;font-weight:700}.hljs-addition{color:#22863a;background-color:#f0fff4}.hljs-deletion{color:#b31d28;background-color:#ffeef0}</style><!-- HTML_TAG_END -->
	<link href="/blog/_app/immutable/assets/_layout-bbf382d0.css" rel="stylesheet">
	<link href="/blog/_app/immutable/assets/_page-ff33f0bf.css" rel="stylesheet">
	<link href="/blog/_app/immutable/assets/code-32da2a8d.css" rel="stylesheet">
	<link href="/blog/_app/immutable/assets/image_v2-0fadae59.css" rel="stylesheet">
	<link href="/blog/_app/immutable/assets/Posts-3b035a18.css" rel="stylesheet">
	<link href="/blog/_app/immutable/assets/url-d5e05f79.css" rel="stylesheet">
	<link rel="modulepreload" href="/blog/_app/immutable/start-a607c09b.js">
	<link rel="modulepreload" href="/blog/_app/immutable/chunks/index-a666ad97.js">
	<link rel="modulepreload" href="/blog/_app/immutable/chunks/singletons-1e98e74f.js">
	<link rel="modulepreload" href="/blog/_app/immutable/components/pages/_layout.svelte-02550fb3.js">
	<link rel="modulepreload" href="/blog/_app/immutable/modules/pages/_layout.ts-b8ee4d7c.js">
	<link rel="modulepreload" href="/blog/_app/immutable/chunks/_layout-1daba58d.js">
	<link rel="modulepreload" href="/blog/_app/immutable/components/pages/posts/2022/09/01/_page.svelte-8a435df9.js">
	<link rel="modulepreload" href="/blog/_app/immutable/chunks/code-c16442c0.js">
	<link rel="modulepreload" href="/blog/_app/immutable/chunks/image_v2-d6d3106d.js">
	<link rel="modulepreload" href="/blog/_app/immutable/chunks/Posts-86260def.js">
	<link rel="modulepreload" href="/blog/_app/immutable/chunks/url-824fcb32.js">
	<link rel="modulepreload" href="/blog/_app/immutable/chunks/annotation-7fa0899e.js">
	</head>
	<body>
		


<main class="svelte-uczm6">

<div class="header svelte-1qm0kvv"><div class="left svelte-1qm0kvv"><a href="/blog/posts"><div class="dot svelte-1qm0kvv" style="width: undefinedpx; background-color: #DF7861;"></div>
				</a><div class="dot svelte-1qm0kvv" style="width: undefinedpx; background-color: #FFB562;"></div><div class="dot svelte-1qm0kvv" style="width: undefinedpx; background-color: #ADCF9F;"></div></div>
	<div class="center svelte-1qm0kvv"><div class="title svelte-1qm0kvv"><div slot="header"><div class="header svelte-1diewu8">Subscribe Amazon RDS Notification And Get Notifications From Slack
</div></div></div></div>
	<div class="right svelte-1qm0kvv"></div></div>
<div class="content svelte-1qm0kvv"><div class="left svelte-1qm0kvv"></div>
	<div class="center svelte-1qm0kvv"><div slot="center"><div class="title svelte-1ulewd">Subscribe Amazon RDS Notification And Get Notifications From Slack
</div>

		
		<div class="container svelte-iku5xz"><figure><img src="https://user-images.githubusercontent.com/52372569/188123705-e58d8e1b-6fcd-42a2-81d6-0f5b2f9c31e9.png" alt="Slack" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-iku5xz"><div slot="caption">@Image from
				<div class="href svelte-jsfa02"><a href="https://slack.com/features" class="svelte-jsfa02">Slack</a>
</div></div></figcaption></figure>
</div>
		<div class="container svelte-1nl2eag" style="border-left: 1rem solid #ffb562;"><div class="logo"><img src="/blog/_app/immutable/assets/stare-ed794b99.png" alt="Stare" class="svelte-1nl2eag"></div>
	<div class="message svelte-1nl2eag"><div class="name svelte-1nl2eag">Caution</div>
		<div class="content svelte-1nl2eag">This blog uses non-copyright images. If you are the owner of the image and want to protect the copyright, please contact me.</div></div>
</div>
		<div class="subtitle svelte-oo9etd">Before start
</div>
		<div class="content svelte-1nb29p1">A few days ago, I heard about two incidents causing a failure event that has a business
			impact. Each of them were that a minor update for RDS database engine had been done during the
			periodic maintenance period. While updating engines, the database server had been rebooted.
			The task was done after just five minutes. However some transactions have not been processed
			because of this update. This transactions have to be processed by administrators after update.
		
</div>
		<div class="content svelte-1nb29p1">I am monitoring many servers with
			


<div class="content svelte-di12y6"><span class="blue svelte-di12y6">Amazon CloudWatch</span>
		<span class="blue number svelte-di12y6">1</span>
</div> service. The servers which were created
			from 


<div class="content svelte-di12y6"><span class="blue svelte-di12y6">Amazon EC2</span>
		<span class="blue number svelte-di12y6">2</span>
</div>
			are running on the AWS. Default metrics like CPU utilization, network bandwidth are provided from
			Amazon Cloudwatch for free. With Amazon Cloudwatch service, you can configure your alarm which
			notify you when one of the metrics are met a condition of pre-defined rules.
			<div class="content svelte-76s24z"><div class="number svelte-76s24z"><span slot="number">1</span></div>
	<div class="annotation"><span slot="annotation">CloudWatch provides you with data and actionable insights to monitor your applications,
					respond to system-wide performance changes, and optimize resource utilization. CloudWatch
					collects monitoring and operational data in the form of logs, metrics, and events.
				</span></div>
</div>
			<div class="content svelte-76s24z"><div class="number svelte-76s24z"><span slot="number">2</span></div>
	<div class="annotation"><span slot="annotation">Amazon Elastic Compute Cloud (Amazon EC2) offers the broadest and deepest compute
					platform, with over 500 instances and choice of the latest processor, storage, networking,
					operating system, and purchase model to help you best match the needs of your workload.
				</span></div>
</div>
</div>
		<div class="content svelte-1nb29p1">Following
			<div class="href svelte-jsfa02"><a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/AlarmThatSendsEmail.html" class="svelte-jsfa02">Amazon Cloudwatch document</a>
</div> which says composite alarms can send 


<div class="content svelte-di12y6"><span class="blue svelte-di12y6">Amazon SNS</span>
		<span class="blue number svelte-di12y6">1</span>
</div>
			notifications when they change state, I have configured a alarm process which notify to administrators
			when changing the alarm state. After sending an alarm state to Amazon SNS, the service send to
			subscriptions like e-mail, 


<div class="content svelte-di12y6"><span class="blue svelte-di12y6">AWS Lambda</span>
		<span class="blue number svelte-di12y6">2</span>
</div> and etc.
			<div class="content svelte-76s24z"><div class="number svelte-76s24z"><span slot="number">1</span></div>
	<div class="annotation"><span slot="annotation">Amazon Simple Notification Service (Amazon SNS) is a fully managed messaging service for
					both application-to-application (A2A) and application-to-person (A2P) communication.
				</span></div>
</div>
			<div class="content svelte-76s24z"><div class="number svelte-76s24z"><span slot="number">2</span></div>
	<div class="annotation"><span slot="annotation">AWS Lambda is a serverless, event-driven compute service that lets you run code for
					virtually any type of application or backend service without provisioning or managing
					servers.
				</span></div>
</div>
</div>
		<div class="content svelte-1nb29p1">This process was also applied to RDS event notification. When events occur, each event are
			sent to Amazon SNS. The service receives messages and sends to AWS Lambda in my case.
		
</div>
		<div class="content svelte-1nb29p1">With AWS Lambda service, you can create a lambda function which runs your code without a
			server. I have wrote a code that was running on the NODEJS14 runtime to send the message from
			Amazon SNS to <div class="content svelte-12mtgf4"><div class="standard slack svelte-12mtgf4"><svg height="3rem" width="3rem" viewBox="0 0 70 65" xmlns="http://www.w3.org/2000/svg" shape-rendering="geometricPrecision" class="svelte-12mtgf4"><g fill="none"><path d="m21.902.148c-3.299 0-5.973 2.68-5.973 5.985a5.979 5.979 0 0 0 5.973 5.985h5.974v-5.985a5.98 5.98 0 0 0 -5.974-5.985m0 15.96h-15.929c-3.299 0-5.973 2.68-5.973 5.986 0 3.305 2.674 5.985 5.973 5.985h15.93c3.298 0 5.973-2.68 5.973-5.985 0-3.306-2.675-5.986-5.974-5.986" fill="#097eff"></path><path d="m59.734 22.094c0-3.306-2.675-5.986-5.974-5.986s-5.973 2.68-5.973 5.986v5.985h5.973a5.98 5.98 0 0 0 5.974-5.985m-15.929 0v-15.961a5.98 5.98 0 0 0 -5.974-5.985c-3.299 0-5.973 2.68-5.973 5.985v15.96c0 3.307 2.674 5.987 5.973 5.987a5.98 5.98 0 0 0 5.974-5.985" fill="#097eff"></path><path d="m37.831 60a5.98 5.98 0 0 0 5.974-5.985 5.98 5.98 0 0 0 -5.974-5.985h-5.973v5.985c0 3.305 2.674 5.985 5.973 5.985m0-15.96h15.93c3.298 0 5.973-2.68 5.973-5.986a5.98 5.98 0 0 0 -5.974-5.985h-15.929c-3.299 0-5.973 2.68-5.973 5.985a5.979 5.979 0 0 0 5.973 5.985" fill="#ecb12f"></path><path d="m0 38.054a5.979 5.979 0 0 0 5.973 5.985 5.98 5.98 0 0 0 5.974-5.985v-5.985h-5.974c-3.299 0-5.973 2.68-5.973 5.985m15.929 0v15.96c0 3.306 2.674 5.986 5.973 5.986a5.98 5.98 0 0 0 5.974-5.985v-15.961a5.979 5.979 0 0 0 -5.974-5.985c-3.299 0-5.973 2.68-5.973 5.985" fill="#ecb12f"></path></g></svg>
			slack</div>
</div> . The message is a JSON format and raw text.
			To understand the message fast and concisely, it has to be parsed properly.
		
</div>
		<div class="content svelte-18aohhk"><div class="file svelte-18aohhk"><div slot="file">cloudwatch.json</div></div>
	<div class="code"><div slot="code">
  
  <pre data-language="json" class=" svelte-4cqgwq"><code class="hljs"><!-- HTML_TAG_START --><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;Records&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">&quot;EventSource&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;aws:sns&quot;</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">&quot;EventVersion&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;1.0&quot;</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">&quot;EventSubscriptionArn&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;arn:aws:sns:ap-southeast-1:123456789012:laminar:a6ea4892-f3e6-499c-a854-f53f544eef04&quot;</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">&quot;Sns&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
                <span class="hljs-attr">&quot;Type&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Notification&quot;</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">&quot;MessageId&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;57977499-a9d2-5e38-8b55-2f1bed8777af&quot;</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">&quot;TopicArn&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;arn:aws:sns:ap-southeast-1:123456789012:laminar&quot;</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">&quot;Subject&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;OK: &quot;</span>my-alarm<span class="hljs-string">&quot; in Asia Pacific (Singapore)&quot;</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">&quot;Message&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;{&quot;</span>AlarmName<span class="hljs-string">&quot;:&quot;</span>my-alarm<span class="hljs-string">&quot;,&quot;</span>AlarmDescription<span class="hljs-string">&quot;:null,&quot;</span>AWSAccountId<span class="hljs-string">&quot;:&quot;</span><span class="hljs-number">123456789012</span><span class="hljs-string">&quot;,&quot;</span>AlarmConfigurationUpdatedTimestamp<span class="hljs-string">&quot;:&quot;</span><span class="hljs-number">2022</span><span class="hljs-number">-08</span><span class="hljs-number">-26</span>T03<span class="hljs-punctuation">:</span><span class="hljs-number">45</span><span class="hljs-punctuation">:</span><span class="hljs-number">34.563</span>+<span class="hljs-number">0000</span><span class="hljs-string">&quot;,&quot;</span>NewStateValue<span class="hljs-string">&quot;:&quot;</span>OK<span class="hljs-string">&quot;,&quot;</span>NewStateReason<span class="hljs-string">&quot;:&quot;</span>Threshold Crossed<span class="hljs-punctuation">:</span> <span class="hljs-number">1</span> out of the last <span class="hljs-number">1</span> datapoints <span class="hljs-punctuation">[</span><span class="hljs-number">3.6266666666666665</span> (<span class="hljs-number">26</span>/<span class="hljs-number">08</span>/<span class="hljs-number">22</span> <span class="hljs-number">03</span><span class="hljs-punctuation">:</span><span class="hljs-number">40</span><span class="hljs-punctuation">:</span><span class="hljs-number">00</span>)<span class="hljs-punctuation">]</span> was not less than the threshold (<span class="hljs-number">1.0</span>) (minimum <span class="hljs-number">1</span> datapoint for ALARM -&gt; OK transition).<span class="hljs-string">&quot;,&quot;</span>StateChangeTime<span class="hljs-string">&quot;:&quot;</span><span class="hljs-number">2022</span><span class="hljs-number">-08</span><span class="hljs-number">-26</span>T03<span class="hljs-punctuation">:</span><span class="hljs-number">46</span><span class="hljs-punctuation">:</span><span class="hljs-number">29.897</span>+<span class="hljs-number">0000</span><span class="hljs-string">&quot;,&quot;</span>Region<span class="hljs-string">&quot;:&quot;</span>Asia Pacific (Singapore)<span class="hljs-string">&quot;,&quot;</span>AlarmArn<span class="hljs-string">&quot;:&quot;</span>arn<span class="hljs-punctuation">:</span>aws<span class="hljs-punctuation">:</span>cloudwatch<span class="hljs-punctuation">:</span>ap-southeast<span class="hljs-number">-1</span><span class="hljs-punctuation">:</span><span class="hljs-number">123456789012</span><span class="hljs-punctuation">:</span>alarm<span class="hljs-punctuation">:</span>my-alarm<span class="hljs-string">&quot;,&quot;</span>OldStateValue<span class="hljs-string">&quot;:&quot;</span>ALARM<span class="hljs-string">&quot;,&quot;</span>OKActions<span class="hljs-string">&quot;:[&quot;</span>arn<span class="hljs-punctuation">:</span>aws<span class="hljs-punctuation">:</span>sns<span class="hljs-punctuation">:</span>ap-southeast<span class="hljs-number">-1</span><span class="hljs-punctuation">:</span><span class="hljs-number">123456789012</span><span class="hljs-punctuation">:</span>laminar<span class="hljs-string">&quot;],&quot;</span>AlarmActions<span class="hljs-string">&quot;:[&quot;</span>arn<span class="hljs-punctuation">:</span>aws<span class="hljs-punctuation">:</span>sns<span class="hljs-punctuation">:</span>ap-southeast<span class="hljs-number">-1</span><span class="hljs-punctuation">:</span><span class="hljs-number">123456789012</span><span class="hljs-punctuation">:</span>laminar<span class="hljs-string">&quot;],&quot;</span>InsufficientDataActions<span class="hljs-string">&quot;:[],&quot;</span>Trigger<span class="hljs-string">&quot;:{&quot;</span>MetricName<span class="hljs-string">&quot;:&quot;</span>CPUUtilization<span class="hljs-string">&quot;,&quot;</span>Namespace<span class="hljs-string">&quot;:&quot;</span>AWS/RDS<span class="hljs-string">&quot;,&quot;</span>StatisticType<span class="hljs-string">&quot;:&quot;</span>Statistic<span class="hljs-string">&quot;,&quot;</span>Statistic<span class="hljs-string">&quot;:&quot;</span>AVERAGE<span class="hljs-string">&quot;,&quot;</span>Unit<span class="hljs-string">&quot;:null,&quot;</span>Dimensions<span class="hljs-string">&quot;:[{&quot;</span>value<span class="hljs-string">&quot;:&quot;</span>database<span class="hljs-number">-1</span><span class="hljs-string">&quot;,&quot;</span>name<span class="hljs-string">&quot;:&quot;</span>DBInstanceIdentifier<span class="hljs-string">&quot;}],&quot;</span>Period<span class="hljs-string">&quot;:300,&quot;</span>EvaluationPeriods<span class="hljs-string">&quot;:1,&quot;</span>DatapointsToAlarm<span class="hljs-string">&quot;:1,&quot;</span>ComparisonOperator<span class="hljs-string">&quot;:&quot;</span>LessThanThreshold<span class="hljs-string">&quot;,&quot;</span>Threshold<span class="hljs-string">&quot;:1.0,&quot;</span>TreatMissingData<span class="hljs-string">&quot;:&quot;</span>missing<span class="hljs-string">&quot;,&quot;</span>EvaluateLowSampleCountPercentile<span class="hljs-string">&quot;:&quot;</span><span class="hljs-string">&quot;}}&quot;</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">&quot;Timestamp&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2022-08-26T03:46:29.953Z&quot;</span><span class="hljs-punctuation">,</span>
            <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span><!-- HTML_TAG_END --></code></pre>
</div></div>
</div>
		<div class="content svelte-1nb29p1">The above 


<div class="content svelte-di12y6"><span class="black background svelte-di12y6">cloudwatch.json</span>
</div> message from Amazon CloudWatch,
			for example, has a 


<div class="content svelte-di12y6"><span class="purple background svelte-di12y6">Records</span>
</div> key. The type of key
			is an array in NODEJS and a list in PYTHON. The first item of the key is JSON. A main key of the
			item is 


<div class="content svelte-di12y6"><span class="purple background svelte-di12y6">Sns</span>
</div>. This key differs from source like
			Amazon CloudWatch, Amazon RDS and etc. My NODEJS code was wrote for only messages from Amazon
			CloudWatch.
		
</div>

		
		<div class="subtitle svelte-oo9etd">The Goal
</div>
		<div class="content svelte-1nb29p1">All of the messages from Amazon Cloudwatch alarm, Amazon RDS event shoud be sent to <div class="content svelte-12mtgf4"><div class="standard slack svelte-12mtgf4"><svg height="3rem" width="3rem" viewBox="0 0 70 65" xmlns="http://www.w3.org/2000/svg" shape-rendering="geometricPrecision" class="svelte-12mtgf4"><g fill="none"><path d="m21.902.148c-3.299 0-5.973 2.68-5.973 5.985a5.979 5.979 0 0 0 5.973 5.985h5.974v-5.985a5.98 5.98 0 0 0 -5.974-5.985m0 15.96h-15.929c-3.299 0-5.973 2.68-5.973 5.986 0 3.305 2.674 5.985 5.973 5.985h15.93c3.298 0 5.973-2.68 5.973-5.985 0-3.306-2.675-5.986-5.974-5.986" fill="#097eff"></path><path d="m59.734 22.094c0-3.306-2.675-5.986-5.974-5.986s-5.973 2.68-5.973 5.986v5.985h5.973a5.98 5.98 0 0 0 5.974-5.985m-15.929 0v-15.961a5.98 5.98 0 0 0 -5.974-5.985c-3.299 0-5.973 2.68-5.973 5.985v15.96c0 3.307 2.674 5.987 5.973 5.987a5.98 5.98 0 0 0 5.974-5.985" fill="#097eff"></path><path d="m37.831 60a5.98 5.98 0 0 0 5.974-5.985 5.98 5.98 0 0 0 -5.974-5.985h-5.973v5.985c0 3.305 2.674 5.985 5.973 5.985m0-15.96h15.93c3.298 0 5.973-2.68 5.973-5.986a5.98 5.98 0 0 0 -5.974-5.985h-15.929c-3.299 0-5.973 2.68-5.973 5.985a5.979 5.979 0 0 0 5.973 5.985" fill="#ecb12f"></path><path d="m0 38.054a5.979 5.979 0 0 0 5.973 5.985 5.98 5.98 0 0 0 5.974-5.985v-5.985h-5.974c-3.299 0-5.973 2.68-5.973 5.985m15.929 0v15.96c0 3.306 2.674 5.986 5.973 5.986a5.98 5.98 0 0 0 5.974-5.985v-15.961a5.979 5.979 0 0 0 -5.974-5.985c-3.299 0-5.973 2.68-5.973 5.985" fill="#ecb12f"></path></g></svg>
			slack</div>
</div>
			successfully. That means a lambda function shoud be expandable for all Amazon SNS messages.
		
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/188312397-678f8422-ccd0-44e8-ad16-90b2793318f8.png" alt="RDS console" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>
		<div class="container svelte-1nl2eag" style="border-left: 1rem solid #adcf9f;"><div class="logo"><img src="/blog/_app/immutable/assets/stare-ed794b99.png" alt="Stare" class="svelte-1nl2eag"></div>
	<div class="message svelte-1nl2eag"><div class="name svelte-1nl2eag">Information</div>
		<div class="content svelte-1nl2eag">This blog owner has a copyright of this image. If you don't think so, please contact me.</div></div>
</div>
		<div class="content svelte-1nb29p1">From creating a event subscription to be notified by a
			<div class="content svelte-12mtgf4"><div class="standard slack svelte-12mtgf4"><svg height="3rem" width="3rem" viewBox="0 0 70 65" xmlns="http://www.w3.org/2000/svg" shape-rendering="geometricPrecision" class="svelte-12mtgf4"><g fill="none"><path d="m21.902.148c-3.299 0-5.973 2.68-5.973 5.985a5.979 5.979 0 0 0 5.973 5.985h5.974v-5.985a5.98 5.98 0 0 0 -5.974-5.985m0 15.96h-15.929c-3.299 0-5.973 2.68-5.973 5.986 0 3.305 2.674 5.985 5.973 5.985h15.93c3.298 0 5.973-2.68 5.973-5.985 0-3.306-2.675-5.986-5.974-5.986" fill="#097eff"></path><path d="m59.734 22.094c0-3.306-2.675-5.986-5.974-5.986s-5.973 2.68-5.973 5.986v5.985h5.973a5.98 5.98 0 0 0 5.974-5.985m-15.929 0v-15.961a5.98 5.98 0 0 0 -5.974-5.985c-3.299 0-5.973 2.68-5.973 5.985v15.96c0 3.307 2.674 5.987 5.973 5.987a5.98 5.98 0 0 0 5.974-5.985" fill="#097eff"></path><path d="m37.831 60a5.98 5.98 0 0 0 5.974-5.985 5.98 5.98 0 0 0 -5.974-5.985h-5.973v5.985c0 3.305 2.674 5.985 5.973 5.985m0-15.96h15.93c3.298 0 5.973-2.68 5.973-5.986a5.98 5.98 0 0 0 -5.974-5.985h-15.929c-3.299 0-5.973 2.68-5.973 5.985a5.979 5.979 0 0 0 5.973 5.985" fill="#ecb12f"></path><path d="m0 38.054a5.979 5.979 0 0 0 5.973 5.985 5.98 5.98 0 0 0 5.974-5.985v-5.985h-5.974c-3.299 0-5.973 2.68-5.973 5.985m15.929 0v15.96c0 3.306 2.674 5.986 5.973 5.986a5.98 5.98 0 0 0 5.974-5.985v-15.961a5.979 5.979 0 0 0 -5.974-5.985c-3.299 0-5.973 2.68-5.973 5.985" fill="#ecb12f"></path></g></svg>
			slack</div>
</div> app, I would like to talk about all of the steps. Descriptions
			may be omitted unintentionally.
		
</div>

		
		<div class="subtitle svelte-oo9etd">Subscribe an event
</div>
		<div class="content svelte-1nb29p1">You could create an subscription on AWS console. Write
			<div class="content svelte-1u748bb"><div class="standard serviceSearch svelte-1u748bb"><svg xmlns="http://www.w3.org/2000/svg" version="1.0" width="1.5rem" height="1.5rem" viewBox="0 0 1244 1280" preserveAspectRatio="xMidYMid meet" class="svelte-1u748bb"><metadata>Created by potrace 1.15, written by Peter Selinger 2001-2017 </metadata><g transform="translate(0,1280) scale(0.1,-0.1)" fill="#ffffff" stroke="none"><path d="M4025 12789 c-1029 -79 -1969 -501 -2704 -1214 -985 -955 -1456 -2292 -1285 -3650 156 -1244 849 -2360 1899 -3059 193 -129 272 -175 470 -274 452 -227 906 -362 1445 -429 207 -25 763 -25 970 0 404 50 752 138 1115 281 251 98 600 283 819 433 l80 54 1075 -1073 c3835 -3827 3770 -3762 3828 -3795 189 -105 411 -75 563 77 148 148 180 359 84 553 -21 43 -462 488 -2432 2459 -2212 2213 -2404 2408 -2392 2425 8 10 40 47 70 83 714 836 1088 1927 1031 3011 -32 610 -165 1136 -420 1664 -169 349 -340 615 -592 920 -106 128 -395 417 -524 524 -687 569 -1463 900 -2336 996 -174 19 -598 27 -764 14z m780 -949 c777 -118 1453 -463 1982 -1014 516 -536 829 -1194 930 -1951 24 -186 24 -618 0 -810 -54 -416 -158 -758 -342 -1125 -297 -593 -779 -1101 -1360 -1432 -964 -549 -2153 -590 -3152 -108 -975 470 -1667 1364 -1873 2420 -37 192 -51 323 -57 555 -6 258 4 423 42 651 161 971 742 1831 1588 2348 453 278 935 434 1512 490 22 2 164 3 315 1 217 -3 304 -8 415 -25z"></path></g></svg>
			RDS</div>
</div>
			on the search box at the top and Click
			<div class="content svelte-1u748bb"><div class="standard service svelte-1u748bb">RDS</div>
</div>
			from the results in the services.
		
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/188320527-a31f777c-fc54-4ab7-aa5c-d8a9aaf7e21e.png" alt="RDS Event subscription" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>
		<div class="content svelte-w7ylg2"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg>
	
</div>
		<div class="content svelte-1nb29p1">On the side menu, click the
			<div class="content svelte-1u748bb"><div class="standard input svelte-1u748bb">Event subscriptions</div>
</div>. After entering the Event
			subscriptions page, click the
			<div class="content svelte-1u748bb"><div class="standard button svelte-1u748bb">Create event subscription</div>
</div>
			button.
		
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/188319972-84b3a6b2-f8cb-4cb9-9176-1179712bc2b8.png" alt="RDS Event subscription" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>
		<div class="content svelte-w7ylg2"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg>
	
</div>
		<div class="content svelte-1nb29p1">Enter the your subscription name. In my case, I entered
			<div class="content svelte-1u748bb"><div class="standard input svelte-1u748bb">laminar</div>
</div>. After that, choose your Amazon SNS ARN. My
			target ARN is <div class="content svelte-1u748bb">
		<div class="standard inputSelect svelte-1u748bb">laminar
			<svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24" class="svelte-1u748bb"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div>
</div>. For easy resource
			management, I recommend that you specify the same subscription name and destination name.
		
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/188323556-f72eb4fa-7320-49bb-af7b-0132a7ac6a5e.png" alt="RDS Event subscription" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>
		<div class="content svelte-w7ylg2"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg>
	
</div>
		<div class="content svelte-1nb29p1">You can choose source type from a source list. I want to subscribe events from my instances.
			So I choose <div class="content svelte-1u748bb">
		<div class="standard inputSelect svelte-1u748bb">Instances
			<svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24" class="svelte-1u748bb"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div>
</div> from types.
		
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/189348189-b594ba6c-12b3-42df-b817-114fa07894fb.png" alt="RDS Event Source" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>
		<div class="content svelte-w7ylg2"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg>
	
</div>
		<div class="content svelte-1nb29p1">Leave the options below as defaults. After configuring the source, click the
			<div class="content svelte-1u748bb"><div class="standard button svelte-1u748bb">Create</div>
</div> button.
		
</div>
		<div class="content svelte-1nb29p1">If you want to listen a specific event from selected instances, you can choose a
			<div class="content svelte-1u748bb"><div class="standard select svelte-1u748bb"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" class="svelte-1u748bb"><circle cx="1.5rem" cy="1.5rem" r="0.5rem" stroke="#0073bb" stroke-width="5" fill="#ffffff"></circle></svg>
			Select specific instances</div>
</div> and a
			<div class="content svelte-1u748bb"><div class="standard select svelte-1u748bb"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" class="svelte-1u748bb"><circle cx="1.5rem" cy="1.5rem" r="0.5rem" stroke="#0073bb" stroke-width="5" fill="#ffffff"></circle></svg>
			Select specific event categories</div>
</div>options.
		
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/188323913-21086efa-0b04-4fcc-8906-ca41009b0b26.png" alt="RDS Event subscription" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>
		<div class="content svelte-w7ylg2"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg>
	
</div>

		
		<div class="subtitle svelte-oo9etd">Create a Lambda function
</div>
		<div class="content svelte-1nb29p1">You could create an lambda function on AWS console. Write
			<div class="content svelte-1u748bb"><div class="standard serviceSearch svelte-1u748bb"><svg xmlns="http://www.w3.org/2000/svg" version="1.0" width="1.5rem" height="1.5rem" viewBox="0 0 1244 1280" preserveAspectRatio="xMidYMid meet" class="svelte-1u748bb"><metadata>Created by potrace 1.15, written by Peter Selinger 2001-2017 </metadata><g transform="translate(0,1280) scale(0.1,-0.1)" fill="#ffffff" stroke="none"><path d="M4025 12789 c-1029 -79 -1969 -501 -2704 -1214 -985 -955 -1456 -2292 -1285 -3650 156 -1244 849 -2360 1899 -3059 193 -129 272 -175 470 -274 452 -227 906 -362 1445 -429 207 -25 763 -25 970 0 404 50 752 138 1115 281 251 98 600 283 819 433 l80 54 1075 -1073 c3835 -3827 3770 -3762 3828 -3795 189 -105 411 -75 563 77 148 148 180 359 84 553 -21 43 -462 488 -2432 2459 -2212 2213 -2404 2408 -2392 2425 8 10 40 47 70 83 714 836 1088 1927 1031 3011 -32 610 -165 1136 -420 1664 -169 349 -340 615 -592 920 -106 128 -395 417 -524 524 -687 569 -1463 900 -2336 996 -174 19 -598 27 -764 14z m780 -949 c777 -118 1453 -463 1982 -1014 516 -536 829 -1194 930 -1951 24 -186 24 -618 0 -810 -54 -416 -158 -758 -342 -1125 -297 -593 -779 -1101 -1360 -1432 -964 -549 -2153 -590 -3152 -108 -975 470 -1667 1364 -1873 2420 -37 192 -51 323 -57 555 -6 258 4 423 42 651 161 971 742 1831 1588 2348 453 278 935 434 1512 490 22 2 164 3 315 1 217 -3 304 -8 415 -25z"></path></g></svg>
			Lambda</div>
</div>
			on the search box at the top and Click
			<div class="content svelte-1u748bb"><div class="standard service svelte-1u748bb">Lambda</div>
</div>
			from the results in the services.
		
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/189368580-e70430b6-c727-47a7-a3bb-1b65682705d3.png" alt="Lambda Fucntion" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>
		<div class="content svelte-w7ylg2"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg>
	
</div>
		<div class="content svelte-1nb29p1">If you are unable to view this <div class="content svelte-1u748bb"><div class="standard input svelte-1u748bb">Functions</div>
</div> page, click
			<div class="content svelte-1u748bb"><div class="standard input svelte-1u748bb">Functions</div>
</div> on the left menu bar. To create a lambda function,
			click the <div class="content svelte-1u748bb"><div class="standard button svelte-1u748bb">Create function</div>
</div> button at the top right corner.
		
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/189377555-cfb043f3-0439-4259-91bb-72842079760c.png" alt="Lambda Fucntion" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>
		<div class="content svelte-w7ylg2"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg>
	
</div>
		<div class="content svelte-1nb29p1">You can set your function name. In my case, I name the function
			<div class="content svelte-1u748bb"><div class="standard input svelte-1u748bb">Notify-to-Slack</div>
</div>.
		
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/189389419-411249a8-5ad9-4b40-ab36-386a3927aaf3.png" alt="Lambda Fucntion" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>
		<div class="content svelte-w7ylg2"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg>
	
</div>
		<div class="content svelte-1nb29p1">My sample code can run on the Python environment. Choose the
			<div class="content svelte-1u748bb">
		<div class="standard inputSelect svelte-1u748bb">Python 3.9
			<svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24" class="svelte-1u748bb"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div>
</div> runtime from the supported runtime lists.
		
</div>
		<div class="content svelte-1nb29p1">As noted for the image below, the lambda console code editor supports only
			


<div class="content svelte-di12y6"><span class="purple background svelte-di12y6">Nodejs</span>
</div>,
			


<div class="content svelte-di12y6"><span class="purple background svelte-di12y6">Python</span>
</div> and
			


<div class="content svelte-di12y6"><span class="purple background svelte-di12y6">Ruby</span>
</div>.
		
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/189390401-41d5f516-56ae-40aa-867a-276e4b1d9a47.png" alt="Lambda Fucntion" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>
		<div class="content svelte-w7ylg2"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg>
	
</div>
		<div class="content svelte-1nb29p1">Leave the options below as defaults. Finally, click the
			<div class="content svelte-1u748bb"><div class="standard button svelte-1u748bb">Create function</div>
</div> button at the bottom right corner.
		
</div>
		<div class="content svelte-1nb29p1">This lambda function does not require additional permissions except for default permissions.
		
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/189470159-bbb86fbf-b642-4fc0-8b3f-e34de4b6dbf4.png" alt="Lambda Fucntion" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>
		<div class="content svelte-w7ylg2"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg>
	
</div>
		<div class="content svelte-18aohhk"><div class="file svelte-18aohhk"><div slot="file">lambda_function.py</div></div>
	<div class="code"><div slot="code">
  
  <pre data-language="python" class=" svelte-4cqgwq"><code class="hljs"><!-- HTML_TAG_START --><span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime
<span class="hljs-keyword">import</span> module.slack <span class="hljs-keyword">as</span> slack

<span class="hljs-keyword">def</span> <span class="hljs-title function_">lambda_handler</span>(<span class="hljs-params">event, context</span>):
    message = <span class="hljs-literal">True</span>

    <span class="hljs-keyword">try</span>:
        sns = event[<span class="hljs-string">&quot;Records&quot;</span>][<span class="hljs-number">0</span>][<span class="hljs-string">&quot;Sns&quot;</span>]
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> error:
        <span class="hljs-comment"># Debug errors</span>
        <span class="hljs-built_in">print</span>(error)

        <span class="hljs-comment"># Give a notification to an administrator</span>
        sns = {
            <span class="hljs-string">&quot;Subject&quot;</span>: <span class="hljs-string">&quot;Fail to parse a coming sns event.&quot;</span>,
            <span class="hljs-string">&quot;Timestamp&quot;</span>: datetime.now(),
        }

        <span class="hljs-comment"># Change message value to False</span>
        message = <span class="hljs-literal">False</span>

    <span class="hljs-keyword">finally</span>:
        slack.post(sns, message)<!-- HTML_TAG_END --></code></pre>
</div></div>
</div>
		<div class="content svelte-1nb29p1">Copy the Python code above and paste the code in your
			


<div class="content svelte-di12y6"><span class="black background svelte-di12y6">lambda_handler.py</span>
</div> Python file.
		
</div>
		<div class="content svelte-1nb29p1">This code is valid only for Amazon
			<div class="content svelte-1u748bb"><div class="standard service svelte-1u748bb">Simple Notification Service</div>
</div> now. If you try to send not
			matched messages, <div class="content svelte-12mtgf4"><div class="standard slack svelte-12mtgf4"><svg height="3rem" width="3rem" viewBox="0 0 70 65" xmlns="http://www.w3.org/2000/svg" shape-rendering="geometricPrecision" class="svelte-12mtgf4"><g fill="none"><path d="m21.902.148c-3.299 0-5.973 2.68-5.973 5.985a5.979 5.979 0 0 0 5.973 5.985h5.974v-5.985a5.98 5.98 0 0 0 -5.974-5.985m0 15.96h-15.929c-3.299 0-5.973 2.68-5.973 5.986 0 3.305 2.674 5.985 5.973 5.985h15.93c3.298 0 5.973-2.68 5.973-5.985 0-3.306-2.675-5.986-5.974-5.986" fill="#097eff"></path><path d="m59.734 22.094c0-3.306-2.675-5.986-5.974-5.986s-5.973 2.68-5.973 5.986v5.985h5.973a5.98 5.98 0 0 0 5.974-5.985m-15.929 0v-15.961a5.98 5.98 0 0 0 -5.974-5.985c-3.299 0-5.973 2.68-5.973 5.985v15.96c0 3.307 2.674 5.987 5.973 5.987a5.98 5.98 0 0 0 5.974-5.985" fill="#097eff"></path><path d="m37.831 60a5.98 5.98 0 0 0 5.974-5.985 5.98 5.98 0 0 0 -5.974-5.985h-5.973v5.985c0 3.305 2.674 5.985 5.973 5.985m0-15.96h15.93c3.298 0 5.973-2.68 5.973-5.986a5.98 5.98 0 0 0 -5.974-5.985h-15.929c-3.299 0-5.973 2.68-5.973 5.985a5.979 5.979 0 0 0 5.973 5.985" fill="#ecb12f"></path><path d="m0 38.054a5.979 5.979 0 0 0 5.973 5.985 5.98 5.98 0 0 0 5.974-5.985v-5.985h-5.974c-3.299 0-5.973 2.68-5.973 5.985m15.929 0v15.96c0 3.306 2.674 5.986 5.973 5.986a5.98 5.98 0 0 0 5.974-5.985v-15.961a5.979 5.979 0 0 0 -5.974-5.985c-3.299 0-5.973 2.68-5.973 5.985" fill="#ecb12f"></path></g></svg>
			slack</div>
</div> only show the limited information like
			time and an error message.
		
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/189470770-8df19e5a-5126-47fd-bdd7-fd3469aeadd4.png" alt="Lambda Fucntion" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>
		<div class="content svelte-w7ylg2"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg>
	
</div>
		<div class="content svelte-1nb29p1">After pasting the code, you create a new folder by clicking mouse right button and choosing
			the <div class="content svelte-1u748bb"><div class="standard lambda svelte-1u748bb">New Folder</div>
</div> option.
		
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/189471063-0b3722a3-1a50-422e-bf7e-141302acf7ae.png" alt="Lambda Fucntion" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>
		<div class="content svelte-w7ylg2"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg>
	
</div>
		<div class="content svelte-1nb29p1">You click the mouse right button on your new folder and click the
			<div class="content svelte-1u748bb"><div class="standard lambda svelte-1u748bb">Rename</div>
</div> for entering a new name
			<div class="content svelte-1u748bb"><div class="standard input svelte-1u748bb">module</div>
</div>.
		
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/189471142-c5ec5a48-4ab6-45fe-9c54-6191a91a3697.png" alt="Lambda Fucntion" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>
		<div class="content svelte-w7ylg2"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg>
	
</div>
		<div class="content svelte-1nb29p1">To create a Python file for sending messages to <div class="content svelte-12mtgf4"><div class="standard slack svelte-12mtgf4"><svg height="3rem" width="3rem" viewBox="0 0 70 65" xmlns="http://www.w3.org/2000/svg" shape-rendering="geometricPrecision" class="svelte-12mtgf4"><g fill="none"><path d="m21.902.148c-3.299 0-5.973 2.68-5.973 5.985a5.979 5.979 0 0 0 5.973 5.985h5.974v-5.985a5.98 5.98 0 0 0 -5.974-5.985m0 15.96h-15.929c-3.299 0-5.973 2.68-5.973 5.986 0 3.305 2.674 5.985 5.973 5.985h15.93c3.298 0 5.973-2.68 5.973-5.985 0-3.306-2.675-5.986-5.974-5.986" fill="#097eff"></path><path d="m59.734 22.094c0-3.306-2.675-5.986-5.974-5.986s-5.973 2.68-5.973 5.986v5.985h5.973a5.98 5.98 0 0 0 5.974-5.985m-15.929 0v-15.961a5.98 5.98 0 0 0 -5.974-5.985c-3.299 0-5.973 2.68-5.973 5.985v15.96c0 3.307 2.674 5.987 5.973 5.987a5.98 5.98 0 0 0 5.974-5.985" fill="#097eff"></path><path d="m37.831 60a5.98 5.98 0 0 0 5.974-5.985 5.98 5.98 0 0 0 -5.974-5.985h-5.973v5.985c0 3.305 2.674 5.985 5.973 5.985m0-15.96h15.93c3.298 0 5.973-2.68 5.973-5.986a5.98 5.98 0 0 0 -5.974-5.985h-15.929c-3.299 0-5.973 2.68-5.973 5.985a5.979 5.979 0 0 0 5.973 5.985" fill="#ecb12f"></path><path d="m0 38.054a5.979 5.979 0 0 0 5.973 5.985 5.98 5.98 0 0 0 5.974-5.985v-5.985h-5.974c-3.299 0-5.973 2.68-5.973 5.985m15.929 0v15.96c0 3.306 2.674 5.986 5.973 5.986a5.98 5.98 0 0 0 5.974-5.985v-15.961a5.979 5.979 0 0 0 -5.974-5.985c-3.299 0-5.973 2.68-5.973 5.985" fill="#ecb12f"></path></g></svg>
			slack</div>
</div> with formatted
			blocks, click mouse right button on your new folder and choose the
			<div class="content svelte-1u748bb"><div class="standard lambda svelte-1u748bb">New File</div>
</div> option like you created a new folder before.
		
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/189471639-dd979b35-ee61-4c50-a5b4-564842b17ef8.png" alt="Lambda Fucntion" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>
		<div class="content svelte-w7ylg2"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg>
	
</div>
		<div class="content svelte-1nb29p1">You click the mouse right button on your new folder and click the
			<div class="content svelte-1u748bb"><div class="standard lambda svelte-1u748bb">Rename</div>
</div> for entering a new name
			<div class="content svelte-1u748bb"><div class="standard input svelte-1u748bb">slack</div>
</div>.
		
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/190206647-775f8755-9f3b-48ff-99d0-4a42f4a211b0.png" alt="Lambda Fucntion" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>
		<div class="content svelte-w7ylg2"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg>
	
</div>
		<div class="content svelte-18aohhk"><div class="file svelte-18aohhk"><div slot="file">slack.py</div></div>
	<div class="code"><div slot="code">
  
  <pre data-language="python" class=" svelte-4cqgwq"><code class="hljs"><!-- HTML_TAG_START --><span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> json
<span class="hljs-keyword">import</span> requests
<span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime, timezone, timedelta

<span class="hljs-comment"># Slack</span>
<span class="hljs-comment"># Get from https://api.slack.com/apps</span>
token = os.environ[<span class="hljs-string">&quot;token&quot;</span>]
channel_id = os.environ[<span class="hljs-string">&quot;channel_id&quot;</span>]

method = <span class="hljs-string">&quot;POST&quot;</span>
headers = {<span class="hljs-string">&quot;Content-Type&quot;</span>: <span class="hljs-string">&quot;application/json&quot;</span>, <span class="hljs-string">&quot;Authorization&quot;</span>: <span class="hljs-string">f&quot;Bearer <span class="hljs-subst">{token}</span>&quot;</span>}
url = <span class="hljs-string">&quot;https://slack.com/api/chat.postMessage&quot;</span>

<span class="hljs-comment"># Unnecessary cloudwatch alarms</span>
cloudwatch_keys = [
    <span class="hljs-string">&quot;AWSAccountId&quot;</span>,
    <span class="hljs-string">&quot;AlarmConfigurationUpdatedTimestamp&quot;</span>,
    <span class="hljs-string">&quot;OKActions&quot;</span>,
    <span class="hljs-string">&quot;AlarmActions&quot;</span>,
    <span class="hljs-string">&quot;InsufficientDataActions&quot;</span>,
    <span class="hljs-string">&quot;AlarmArn&quot;</span>,
]
rds_keys = [<span class="hljs-string">&quot;Identifier Link&quot;</span>, <span class="hljs-string">&quot;Source ARN&quot;</span>]

<span class="hljs-keyword">def</span> <span class="hljs-title function_">create_message</span>(<span class="hljs-params">sns, msg=<span class="hljs-literal">True</span></span>):
    <span class="hljs-keyword">if</span> msg:
        message = json.loads(sns[<span class="hljs-string">&quot;Message&quot;</span>])

        <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(message.keys()) &gt;= <span class="hljs-number">10</span>:
            message_block = [
                {
                    <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;divider&quot;</span>,
                },
                {
                    <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;section&quot;</span>,
                    <span class="hljs-string">&quot;fields&quot;</span>: [
                        {<span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;mrkdwn&quot;</span>, <span class="hljs-string">&quot;text&quot;</span>: <span class="hljs-string">f&quot;*<span class="hljs-subst">{k}</span>:*\n&gt;<span class="hljs-subst">{message[k]}</span>\n&quot;</span>}
                        <span class="hljs-keyword">for</span> k <span class="hljs-keyword">in</span> <span class="hljs-built_in">list</span>(message.keys())[:<span class="hljs-number">10</span>]
                        <span class="hljs-keyword">if</span> k <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> cloudwatch_keys + rds_keys
                    ],
                },
            ]
        <span class="hljs-keyword">else</span>:
            message_block = [
                {
                    <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;divider&quot;</span>,
                },
                {
                    <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;section&quot;</span>,
                    <span class="hljs-string">&quot;fields&quot;</span>: [
                        {<span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;mrkdwn&quot;</span>, <span class="hljs-string">&quot;text&quot;</span>: <span class="hljs-string">f&quot;*<span class="hljs-subst">{k}</span>:*\n&gt;<span class="hljs-subst">{message[k]}</span>\n&quot;</span>}
                        <span class="hljs-keyword">for</span> k <span class="hljs-keyword">in</span> message.keys()
                        <span class="hljs-keyword">if</span> k <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> cloudwatch_keys + rds_keys
                    ],
                },
            ]
    <span class="hljs-keyword">else</span>:
        message_block = []
    
    <span class="hljs-keyword">return</span> json.dumps(
        {
            <span class="hljs-string">&quot;channel&quot;</span>: channel_id,
            <span class="hljs-string">&quot;text&quot;</span>: <span class="hljs-string">f&quot;<span class="hljs-subst">{sns[<span class="hljs-string">&#x27;Subject&#x27;</span>]}</span> \n&quot;</span>,
            <span class="hljs-string">&quot;blocks&quot;</span>: [
                {
                    <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;header&quot;</span>,
                    <span class="hljs-string">&quot;text&quot;</span>: {<span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;plain_text&quot;</span>, <span class="hljs-string">&quot;text&quot;</span>: sns[<span class="hljs-string">&quot;Subject&quot;</span>]},
                },
            ]
            + message_block,
        }
    )
        
<span class="hljs-keyword">def</span> <span class="hljs-title function_">post</span>(<span class="hljs-params">sns, msg</span>):
    data = create_message(sns, msg)
    response = requests.request(method, url, headers=headers, data=data)
    output = response.json()

    <span class="hljs-keyword">return</span> output
<!-- HTML_TAG_END --></code></pre>
</div></div>
</div>
		<div class="content svelte-1nb29p1">Copy the Python code above and paste the code in your
			


<div class="content svelte-di12y6"><span class="black background svelte-di12y6">slack.py</span>
</div> Python file.
		
</div>
		<div class="content svelte-1nb29p1">Using Python 


<div class="content svelte-di12y6"><span class="purple background svelte-di12y6">requests</span>
</div> module, you could call an
			<div class="content svelte-12mtgf4"><div class="standard slack svelte-12mtgf4"><svg height="3rem" width="3rem" viewBox="0 0 70 65" xmlns="http://www.w3.org/2000/svg" shape-rendering="geometricPrecision" class="svelte-12mtgf4"><g fill="none"><path d="m21.902.148c-3.299 0-5.973 2.68-5.973 5.985a5.979 5.979 0 0 0 5.973 5.985h5.974v-5.985a5.98 5.98 0 0 0 -5.974-5.985m0 15.96h-15.929c-3.299 0-5.973 2.68-5.973 5.986 0 3.305 2.674 5.985 5.973 5.985h15.93c3.298 0 5.973-2.68 5.973-5.985 0-3.306-2.675-5.986-5.974-5.986" fill="#097eff"></path><path d="m59.734 22.094c0-3.306-2.675-5.986-5.974-5.986s-5.973 2.68-5.973 5.986v5.985h5.973a5.98 5.98 0 0 0 5.974-5.985m-15.929 0v-15.961a5.98 5.98 0 0 0 -5.974-5.985c-3.299 0-5.973 2.68-5.973 5.985v15.96c0 3.307 2.674 5.987 5.973 5.987a5.98 5.98 0 0 0 5.974-5.985" fill="#097eff"></path><path d="m37.831 60a5.98 5.98 0 0 0 5.974-5.985 5.98 5.98 0 0 0 -5.974-5.985h-5.973v5.985c0 3.305 2.674 5.985 5.973 5.985m0-15.96h15.93c3.298 0 5.973-2.68 5.973-5.986a5.98 5.98 0 0 0 -5.974-5.985h-15.929c-3.299 0-5.973 2.68-5.973 5.985a5.979 5.979 0 0 0 5.973 5.985" fill="#ecb12f"></path><path d="m0 38.054a5.979 5.979 0 0 0 5.973 5.985 5.98 5.98 0 0 0 5.974-5.985v-5.985h-5.974c-3.299 0-5.973 2.68-5.973 5.985m15.929 0v15.96c0 3.306 2.674 5.986 5.973 5.986a5.98 5.98 0 0 0 5.974-5.985v-15.961a5.979 5.979 0 0 0 -5.974-5.985c-3.299 0-5.973 2.68-5.973 5.985" fill="#ecb12f"></path></g></svg>
			slack</div>
</div> post API. Method, headers and url need to be assigned
			properly to call the API. Two variables,
			


<div class="content svelte-di12y6"><span class="purple background svelte-di12y6">cloudwatch_keys</span>
</div> and
			


<div class="content svelte-di12y6"><span class="purple background svelte-di12y6">rds_keys</span>
</div>, are used to limit the number of
			fields. Slack allows only ten fields.
		
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/190210628-83691574-1821-413b-9bd7-196e054d9074.png" alt="Lambda Fucntion" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>
		<div class="content svelte-w7ylg2"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg>
	
</div>
		<div class="content svelte-1nb29p1">Click the <div class="content svelte-1u748bb"><div class="standard input svelte-1u748bb">Deploy</div>
</div> button to deploy your code. After a few
			seconds, your code will be deployed successfully.
		
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/190397272-26128f0a-8558-4689-ab4d-d34b87dc7846.png" alt="Lambda Fucntion" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>
		<div class="content svelte-w7ylg2"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg>
	
</div>

		
		<div class="subtitle svelte-oo9etd">Create a Lambda layer
</div>
		<div class="content svelte-1nb29p1">The lambda runtime only provides AWS Python SDK environment
			


<div class="content svelte-di12y6"><span class="blue svelte-di12y6">Boto3</span>
		<span class="blue number svelte-di12y6">1</span>
</div> . If you would like to import
			


<div class="content svelte-di12y6"><span class="purple background svelte-di12y6">requests</span>
</div> module, the layer could be helpful.
			<div class="content svelte-76s24z"><div class="number svelte-76s24z"><span slot="number">1</span></div>
	<div class="annotation"><span slot="annotation">The Amazon Web Services (AWS) Software Development Kit (SDK) for Python, which allows
					Python developers to write software that makes use of services like Amazon S3 and Amazon
					EC2.
				</span></div>
</div>
</div>
		<div class="content svelte-1nb29p1">Go to the AWS <div class="content svelte-1u748bb"><div class="standard service svelte-1u748bb">Lambda</div>
</div> service and click
			<div class="content svelte-1u748bb"><div class="standard input svelte-1u748bb">layers</div>
</div> under
			<div class="content svelte-1u748bb">
		<div class="standard inputSelectReverse svelte-1u748bb"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24" class="svelte-1u748bb"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg>
			Additional resources</div>
</div>. If you could not find
			the options, open your menu bar first on the left side.
		
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/190420400-b5b625c3-adb5-4453-8e56-e2e358b5530f.png" alt="Lambda layer" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>
		<div class="content svelte-w7ylg2"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg>
	
</div>
		<div class="content svelte-1nb29p1">Click <div class="content svelte-1u748bb"><div class="standard button svelte-1u748bb">Create layer</div>
</div> button on your right side.
		
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/190422403-7a0fc894-9091-4a70-9ce0-bce2b735efe3.png" alt="Lambda layer" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>
		<div class="content svelte-w7ylg2"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg>
	
</div>
		<div class="content svelte-1nb29p1">Before you upload a layer, you have to create a layer file which is zipped and located modules
			properly.
		
</div>
		<div class="content svelte-1nb29p1">First of all, create a new folder named
			


<div class="content svelte-di12y6"><span class="purple background svelte-di12y6">python</span>
</div> . You could also create a path like
			


<div class="content svelte-di12y6"><span class="purple background svelte-di12y6">python/lib/python3.9/site-packages </span>
</div> now.
		
</div>
		<div class="content svelte-18aohhk"><div class="file svelte-18aohhk"><div slot="file">Bash</div></div>
	<div class="code"><div slot="code">
  
  <pre data-language="bash" class=" svelte-4cqgwq"><code class="hljs"><!-- HTML_TAG_START -->pip install requests -t .<!-- HTML_TAG_END --></code></pre>
</div></div>
</div>
		<div class="content svelte-1nb29p1">Run the above bash code to download the
			


<div class="content svelte-di12y6"><span class="purple background svelte-di12y6">requests</span>
</div> module in your new folder. After running
			the code, your folder looks like this image below.
		
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/190426454-c82b8260-2d9a-430f-9304-3a5865057e42.png" alt="Lambda layer" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>
		<div class="content svelte-w7ylg2"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg>
	
</div>
		<div class="content svelte-1nb29p1">Zip your Python folder and rename the folder, such as the
			


<div class="content svelte-di12y6"><span class="purple background svelte-di12y6">requests</span>
</div> .
		
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/190428539-cb12b918-67bf-47de-9895-89c220dfe7d5.png" alt="Lambda layer" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>
		<div class="content svelte-w7ylg2"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg>
	
</div>
		<div class="content svelte-1nb29p1">Finally we are ready to upload our requests module for the lambda function. Back to your AWS
			Console, enter your layer name just same as our module name
			


<div class="content svelte-di12y6"><span class="purple background svelte-di12y6">requests</span>
</div>.
		
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/190430880-c4fb268b-37ca-4cbd-a37b-33a5fb154b0e.png" alt="Lambda layer" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>
		<div class="content svelte-w7ylg2"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg>
	
</div>
		<div class="content svelte-1nb29p1">Click <div class="content svelte-1u748bb"><div class="standard input svelte-1u748bb">Upload</div>
</div> button and choose your zip file.
		
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/190433401-b6b90153-4192-4ce1-846f-570624d64ea9.png" alt="Lambda layer" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>
		<div class="content svelte-w7ylg2"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg>
	
</div>
		<div class="content svelte-1nb29p1">Check your upload first, then click the <div class="content svelte-1u748bb"><div class="standard button svelte-1u748bb">Create</div>
</div> button to
			finish this task.
		
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/190434780-e5810101-f1a7-4ce5-8209-fa800900d1d7.png" alt="Lambda layer" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>
		<div class="content svelte-w7ylg2"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg>
	
</div>

		
		<div class="subtitle svelte-oo9etd">Add a layer to your function
</div>
		<div class="content svelte-1nb29p1">To add a layer to your function, return to your function and click
			<div class="content svelte-1u748bb"><div class="standard input svelte-1u748bb">Add a layer</div>
</div> button in
			<div class="content svelte-1u748bb"><div class="standard input svelte-1u748bb">Layers</div>
</div> section. You can find the section at the bottom of
			the page.
		
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/190436004-3dbaa08e-6237-44ae-a006-a98efe0f5cf2.png" alt="Lambda layer" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>
		<div class="content svelte-w7ylg2"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg>
	
</div>
		<div class="content svelte-1nb29p1">We will add a python 


<div class="content svelte-di12y6"><span class="purple background svelte-di12y6">requests</span>
</div> module to your function.
			Click the second layer source, <div class="content svelte-1u748bb"><div class="standard select svelte-1u748bb"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" class="svelte-1u748bb"><circle cx="1.5rem" cy="1.5rem" r="0.5rem" stroke="#0073bb" stroke-width="5" fill="#ffffff"></circle></svg>
			Custom layers</div>
</div>, and
			choose your <div class="content svelte-1u748bb">
		<div class="standard inputSelect svelte-1u748bb">requests
			<svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24" class="svelte-1u748bb"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div>
</div> layer and version
			<div class="content svelte-1u748bb">
		<div class="standard inputSelect svelte-1u748bb">1
			<svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24" class="svelte-1u748bb"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg></div>
</div>.
		
</div>
		<div class="content svelte-1nb29p1">If your configuration is completed, click <div class="content svelte-1u748bb"><div class="standard button svelte-1u748bb">Add</div>
</div> button.
		
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/190439575-068a9281-497d-44a1-995b-c01b6abb80a8.png" alt="Lambda layer" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>
		<div class="content svelte-w7ylg2"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg>
	
</div>

		
		<div class="subtitle svelte-oo9etd">Create a Slack App
</div>
		<div class="content svelte-1nb29p1">Run your slack app and click <div class="content svelte-zwjbhi"><div class="slack svelte-zwjbhi"><div class="standard menu svelte-zwjbhi">Apps</div></div>
</div> on the left
			side of the app.
		
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/190445561-1134eff4-d528-4b3f-ade9-3d749b4fdadb.png" alt="Slack app" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>
		<div class="content svelte-1nb29p1">If you cannot find <div class="content svelte-zwjbhi"><div class="slack svelte-zwjbhi"><div class="standard menu svelte-zwjbhi">Apps</div></div>
</div> button, try to click
			<div class="content svelte-zwjbhi"><div class="slack svelte-zwjbhi"><div class="standard menu svelte-zwjbhi">Browse Slack</div></div>
</div> then you can find it.
		
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/190917423-41feade9-ad62-4377-8e7a-dfb5ea2abec2.png" alt="Slack app" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>
		<div class="content svelte-w7ylg2"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg>
	
</div>
		<div class="content svelte-1nb29p1">To make a app, click <div class="content svelte-zwjbhi"><div class="slack svelte-zwjbhi"><div class="standard text svelte-zwjbhi">App Directory</div></div>
</div> on your right
			side.
		
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/190456367-dfd95cc8-494e-4bd3-97a8-5a5debb73e46.png" alt="Slack app" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>
		<div class="content svelte-w7ylg2"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg>
	
</div>
		<div class="content svelte-1nb29p1">Click <div class="content svelte-zwjbhi"><div class="slack svelte-zwjbhi"><div class="standard text svelte-zwjbhi">Build</div></div>
</div> button between
			<div class="content svelte-zwjbhi"><div class="slack svelte-zwjbhi"><div class="standard text svelte-zwjbhi">Manage</div></div>
</div> button and your name like
			<div class="content svelte-zwjbhi"><div class="slack svelte-zwjbhi"><div class="standard textSelect svelte-zwjbhi">Laminar
					<svg xmlns="http://www.w3.org/2000/svg" width="2.4rem" height="2.4rem" class="svelte-zwjbhi"><path d="M12 17.414 3.293 8.707l1.414-1.414L12 14.586l7.293-7.293 1.414 1.414L12 17.414z"></path></svg></div></div>
</div>.
		
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/190459472-c1e83af1-72e8-4836-828a-48b06eefe8d9.png" alt="Slack app" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>
		<div class="content svelte-w7ylg2"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg>
	
</div>
		<div class="content svelte-1nb29p1">Click <div class="content svelte-zwjbhi"><div class="slack svelte-zwjbhi"><div class="standard buttonWhite svelte-zwjbhi">Create an app</div></div>
</div> button to start to
			make your own app.
		
</div>
		<div class="container svelte-iku5xz"><figure><img src="https://user-images.githubusercontent.com/52372569/190460516-8b69083f-5e29-456a-97ba-55b966bd8ee0.png" alt="Slack app" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-iku5xz"></figcaption></figure>
</div>
		<div class="content svelte-w7ylg2"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg>
	
</div>
		<div class="content svelte-1nb29p1">To create a <div class="content svelte-12mtgf4"><div class="standard slack svelte-12mtgf4"><svg height="3rem" width="3rem" viewBox="0 0 70 65" xmlns="http://www.w3.org/2000/svg" shape-rendering="geometricPrecision" class="svelte-12mtgf4"><g fill="none"><path d="m21.902.148c-3.299 0-5.973 2.68-5.973 5.985a5.979 5.979 0 0 0 5.973 5.985h5.974v-5.985a5.98 5.98 0 0 0 -5.974-5.985m0 15.96h-15.929c-3.299 0-5.973 2.68-5.973 5.986 0 3.305 2.674 5.985 5.973 5.985h15.93c3.298 0 5.973-2.68 5.973-5.985 0-3.306-2.675-5.986-5.974-5.986" fill="#097eff"></path><path d="m59.734 22.094c0-3.306-2.675-5.986-5.974-5.986s-5.973 2.68-5.973 5.986v5.985h5.973a5.98 5.98 0 0 0 5.974-5.985m-15.929 0v-15.961a5.98 5.98 0 0 0 -5.974-5.985c-3.299 0-5.973 2.68-5.973 5.985v15.96c0 3.307 2.674 5.987 5.973 5.987a5.98 5.98 0 0 0 5.974-5.985" fill="#097eff"></path><path d="m37.831 60a5.98 5.98 0 0 0 5.974-5.985 5.98 5.98 0 0 0 -5.974-5.985h-5.973v5.985c0 3.305 2.674 5.985 5.973 5.985m0-15.96h15.93c3.298 0 5.973-2.68 5.973-5.986a5.98 5.98 0 0 0 -5.974-5.985h-15.929c-3.299 0-5.973 2.68-5.973 5.985a5.979 5.979 0 0 0 5.973 5.985" fill="#ecb12f"></path><path d="m0 38.054a5.979 5.979 0 0 0 5.973 5.985 5.98 5.98 0 0 0 5.974-5.985v-5.985h-5.974c-3.299 0-5.973 2.68-5.973 5.985m15.929 0v15.96c0 3.306 2.674 5.986 5.973 5.986a5.98 5.98 0 0 0 5.974-5.985v-15.961a5.979 5.979 0 0 0 -5.974-5.985c-3.299 0-5.973 2.68-5.973 5.985" fill="#ecb12f"></path></g></svg>
			slack</div>
</div> App, click <u>see an example</u> link.
		
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/190917629-e533e9de-c5b3-40b6-9a1e-f711758da0c1.png" alt="Slack app" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>
		<div class="content svelte-w7ylg2"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg>
	
</div>
		<div class="content svelte-1nb29p1">With <div class="content svelte-zwjbhi"><div class="slack svelte-zwjbhi"><div class="standard buttonPink svelte-zwjbhi">Posting messages using curl</div></div>
</div> example,
			you can configure your app easily. The example has pre-configured scopes, settings and etc.
		
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/190918015-83fb6ee6-db75-40f6-b515-514d31c95bdd.png" alt="Slack app" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>
		<div class="content svelte-w7ylg2"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg>
	
</div>
		<div class="content svelte-1nb29p1">After scroll down a little, you can find
			<div class="content svelte-zwjbhi"><div class="slack svelte-zwjbhi"><div class="standard buttonGreen svelte-zwjbhi">Create app</div></div>
</div> button. Click it.
		
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/190918488-dcabe75d-13a6-4fd4-a1c4-1b888ef96beb.png" alt="Slack app" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>
		<div class="content svelte-w7ylg2"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg>
	
</div>
		<div class="content svelte-1nb29p1">Pick your workspace just like I choose my workspace
			<div class="content svelte-zwjbhi"><div class="slack svelte-zwjbhi"><div class="standard textSelect svelte-zwjbhi">Laminar
					<svg xmlns="http://www.w3.org/2000/svg" width="2.4rem" height="2.4rem" class="svelte-zwjbhi"><path d="M12 17.414 3.293 8.707l1.414-1.414L12 14.586l7.293-7.293 1.414 1.414L12 17.414z"></path></svg></div></div>
</div>. Then click
			<div class="content svelte-zwjbhi"><div class="slack svelte-zwjbhi"><div class="standard buttonGreen svelte-zwjbhi">Next</div></div>
</div> to go next steps.
		
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/191319256-4c68158f-1913-468e-a906-c657f06c00f2.png" alt="Slack app" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>
		<div class="content svelte-w7ylg2"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg>
	
</div>
		<div class="content svelte-1nb29p1">Review your app configuration. You can also configure these settings after creating your app.
			Click <div class="content svelte-zwjbhi"><div class="slack svelte-zwjbhi"><div class="standard buttonGreen svelte-zwjbhi">Create</div></div>
</div> button to create an app.
		
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/191319927-1e1a1b47-1e2f-421c-94de-e1d83ecc01a7.png" alt="Slack app" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>
		<div class="content svelte-w7ylg2"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg>
	
</div>
		<div class="content svelte-1nb29p1">Before installing this app to your workspace, close this pop up window by clicking
			<div class="content svelte-zwjbhi"><div class="slack svelte-zwjbhi"><div class="standard buttonGreen svelte-zwjbhi">Got It</div></div>
</div>.
		
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/191322640-b47cb9c1-5d8e-4e71-bb8b-be838c280efa.png" alt="Slack app" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>
		<div class="content svelte-w7ylg2"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg>
	
</div>
		<div class="content svelte-1nb29p1">You can install your app. Click
			<div class="content svelte-zwjbhi"><div class="slack svelte-zwjbhi"><div class="standard text svelte-zwjbhi">Install to Workspace</div></div>
</div> button.
		
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/191322890-adc0644f-829c-44c9-96a7-79949322e401.png" alt="Slack app" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>
		<div class="content svelte-w7ylg2"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg>
	
</div>
		<div class="content svelte-1nb29p1">Your app is requesting permission to access your workspace. Click
			<div class="content svelte-zwjbhi"><div class="slack svelte-zwjbhi"><div class="standard buttonGreen svelte-zwjbhi">Allow</div></div>
</div>.
		
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/191324378-1892ca72-e3a0-4fc6-852a-01dfba1630d8.png" alt="Slack app" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>
		<div class="content svelte-w7ylg2"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg>
	
</div>
		<div class="content svelte-1nb29p1">Go to your app and check if your app is added.
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/191324531-4e694049-55cb-48bc-a6d3-44f903e7eb79.png" alt="Slack app" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>
		<div class="content svelte-w7ylg2"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg>
	
</div>

		
		<div class="subtitle svelte-oo9etd">Add Lambda environment variables
</div>
		<div class="content svelte-1nb29p1">Back to your browser, then click
			<div class="content svelte-zwjbhi"><div class="slack svelte-zwjbhi"><div class="standard buttonBlue svelte-zwjbhi">OAuth &amp; Permissions</div></div>
</div> under Features. You
			can see your OAuth Token(ex: xoxb-xxxxx) for your workspace. Click
			<div class="content svelte-zwjbhi"><div class="slack svelte-zwjbhi"><div class="standard text svelte-zwjbhi">Copy</div></div>
</div> to copy your token.
		
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/191527727-2dee00d5-b856-4f62-8656-2241719acf2b.png" alt="Slack app" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>
		<div class="content svelte-w7ylg2"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg>
	
</div>
		<div class="content svelte-1nb29p1">Go to your lambda function to configure your function environment variables.
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/191326984-9b21021b-c7cb-4c62-8a8f-c93c73fb6d89.png" alt="Slack app" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>
		<div class="content svelte-w7ylg2"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg>
	
</div>
		<div class="content svelte-1nb29p1">Go to this <div class="content svelte-1u748bb"><div class="standard input svelte-1u748bb">Configuration</div>
</div> tab, then click
			<div class="content svelte-1u748bb"><div class="standard input svelte-1u748bb">Environment variables</div>
</div>. If you never add your variables,
			you cannot see your items now. To add your first variable, click
			<div class="content svelte-1u748bb"><div class="standard input svelte-1u748bb">Edit</div>
</div>.
		
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/191528676-b4d92a9e-a2b7-49aa-afc4-84062a00344c.png" alt="Slack app" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>
		<div class="content svelte-w7ylg2"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg>
	
</div>
		<div class="content svelte-1nb29p1">Click <div class="content svelte-1u748bb"><div class="standard input svelte-1u748bb">Add environment variable</div>
</div> button and enter your key
			as <div class="content svelte-1u748bb"><div class="standard input svelte-1u748bb">token</div>
</div> and your value as copied OAuth token
			<div class="content svelte-1u748bb"><div class="standard input svelte-1u748bb">xoxb-xxxx</div>
</div>. After your edit is completed, click
			<div class="content svelte-1u748bb"><div class="standard button svelte-1u748bb">Save</div>
</div>.
		
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/191528995-dac25700-a345-4713-91b8-93adb439d750.png" alt="Slack app" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>
		<div class="content svelte-w7ylg2"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg>
	
</div>
		<div class="content svelte-1nb29p1">To get your channel ID, open <div class="content svelte-12mtgf4"><div class="standard slack svelte-12mtgf4"><svg height="3rem" width="3rem" viewBox="0 0 70 65" xmlns="http://www.w3.org/2000/svg" shape-rendering="geometricPrecision" class="svelte-12mtgf4"><g fill="none"><path d="m21.902.148c-3.299 0-5.973 2.68-5.973 5.985a5.979 5.979 0 0 0 5.973 5.985h5.974v-5.985a5.98 5.98 0 0 0 -5.974-5.985m0 15.96h-15.929c-3.299 0-5.973 2.68-5.973 5.986 0 3.305 2.674 5.985 5.973 5.985h15.93c3.298 0 5.973-2.68 5.973-5.985 0-3.306-2.675-5.986-5.974-5.986" fill="#097eff"></path><path d="m59.734 22.094c0-3.306-2.675-5.986-5.974-5.986s-5.973 2.68-5.973 5.986v5.985h5.973a5.98 5.98 0 0 0 5.974-5.985m-15.929 0v-15.961a5.98 5.98 0 0 0 -5.974-5.985c-3.299 0-5.973 2.68-5.973 5.985v15.96c0 3.307 2.674 5.987 5.973 5.987a5.98 5.98 0 0 0 5.974-5.985" fill="#097eff"></path><path d="m37.831 60a5.98 5.98 0 0 0 5.974-5.985 5.98 5.98 0 0 0 -5.974-5.985h-5.973v5.985c0 3.305 2.674 5.985 5.973 5.985m0-15.96h15.93c3.298 0 5.973-2.68 5.973-5.986a5.98 5.98 0 0 0 -5.974-5.985h-15.929c-3.299 0-5.973 2.68-5.973 5.985a5.979 5.979 0 0 0 5.973 5.985" fill="#ecb12f"></path><path d="m0 38.054a5.979 5.979 0 0 0 5.973 5.985 5.98 5.98 0 0 0 5.974-5.985v-5.985h-5.974c-3.299 0-5.973 2.68-5.973 5.985m15.929 0v15.96c0 3.306 2.674 5.986 5.973 5.986a5.98 5.98 0 0 0 5.974-5.985v-15.961a5.979 5.979 0 0 0 -5.974-5.985c-3.299 0-5.973 2.68-5.973 5.985" fill="#ecb12f"></path></g></svg>
			slack</div>
</div> application again. Over your
			private channel name, click your right mouse button to open menu then click
			<div class="content svelte-zwjbhi"><div class="slack svelte-zwjbhi"><div class="standard buttonBlue svelte-zwjbhi">View channel details</div></div>
</div>
			options.
		
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/191329708-4a449a53-5140-456d-819c-eb392ec8af63.png" alt="Slack app" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>
		<div class="content svelte-w7ylg2"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg>
	
</div>
		<div class="content svelte-1nb29p1">Move to the bottom of the pop up in <div class="content svelte-zwjbhi"><div class="slack svelte-zwjbhi"><div class="standard text svelte-zwjbhi">About</div></div>
</div> tab.
			You can copy your channel ID(ex: C0XXXXXX) by clicking copy icons.
		
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/191529731-6cd0e5cc-4694-4267-a0ef-0cb6f5fbbb1b.png" alt="Slack app" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>
		<div class="content svelte-w7ylg2"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg>
	
</div>
		<div class="content svelte-1nb29p1">In <div class="content svelte-zwjbhi"><div class="slack svelte-zwjbhi"><div class="standard text svelte-zwjbhi">Integrations</div></div>
</div> tab, you can add your app to your
			channel. Click
			<div class="content svelte-zwjbhi"><div class="slack svelte-zwjbhi"><div class="standard buttonWhite svelte-zwjbhi">Add an app</div></div>
</div> button.
		
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/191330969-a43110b8-1df1-4689-aea8-d53d9934c137.png" alt="Slack app" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>
		<div class="content svelte-w7ylg2"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg>
	
</div>
		<div class="content svelte-1nb29p1">You can check available apps in your workspace. I have one app which I create for this guide.
			Add your app by clicking <div class="content svelte-zwjbhi"><div class="slack svelte-zwjbhi"><div class="standard buttonWhite svelte-zwjbhi">Add</div></div>
</div> button.
		
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/191331088-1d1fd5c0-92ed-4e27-83e1-9b81eb084e39.png" alt="Slack app" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>
		<div class="content svelte-w7ylg2"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg>
	
</div>
		<div class="content svelte-1nb29p1">Make sure that your app is added to the private channel.
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/191331313-de13d841-a31e-4429-8dca-2f92bf684d67.png" alt="Slack app" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>
		<div class="content svelte-w7ylg2"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg>
	
</div>
		<div class="content svelte-1nb29p1">Our lambda function wants one more environment variable. Your key is
			<div class="content svelte-1u748bb"><div class="standard input svelte-1u748bb">channel_id</div>
</div> and value is the previous copied channel ID
			<div class="content svelte-1u748bb"><div class="standard input svelte-1u748bb">C0XXXXX</div>
</div>. If you finish your task, click
			<div class="content svelte-1u748bb"><div class="standard button svelte-1u748bb">Save</div>
</div>. button.
		
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/191537055-eaf6f2dd-0dbe-4b87-ab34-942de1d1a5f9.png" alt="Slack app" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>
		<div class="content svelte-w7ylg2"><svg xmlns="http://www.w3.org/2000/svg" width="3rem" height="3rem" viewBox="0 0 24 24"><path d="M16.924 9.617A1 1 0 0 0 16 9H8a1 1 0 0 0-.707 1.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0 .217-1.09z" data-name="Down"></path></svg>
	
</div>

		
		<div class="subtitle svelte-oo9etd">Check your alarm from slack
</div>
		<div class="content svelte-1nb29p1">You can get alarms from <div class="content svelte-12mtgf4"><div class="standard slack svelte-12mtgf4"><svg height="3rem" width="3rem" viewBox="0 0 70 65" xmlns="http://www.w3.org/2000/svg" shape-rendering="geometricPrecision" class="svelte-12mtgf4"><g fill="none"><path d="m21.902.148c-3.299 0-5.973 2.68-5.973 5.985a5.979 5.979 0 0 0 5.973 5.985h5.974v-5.985a5.98 5.98 0 0 0 -5.974-5.985m0 15.96h-15.929c-3.299 0-5.973 2.68-5.973 5.986 0 3.305 2.674 5.985 5.973 5.985h15.93c3.298 0 5.973-2.68 5.973-5.985 0-3.306-2.675-5.986-5.974-5.986" fill="#097eff"></path><path d="m59.734 22.094c0-3.306-2.675-5.986-5.974-5.986s-5.973 2.68-5.973 5.986v5.985h5.973a5.98 5.98 0 0 0 5.974-5.985m-15.929 0v-15.961a5.98 5.98 0 0 0 -5.974-5.985c-3.299 0-5.973 2.68-5.973 5.985v15.96c0 3.307 2.674 5.987 5.973 5.987a5.98 5.98 0 0 0 5.974-5.985" fill="#097eff"></path><path d="m37.831 60a5.98 5.98 0 0 0 5.974-5.985 5.98 5.98 0 0 0 -5.974-5.985h-5.973v5.985c0 3.305 2.674 5.985 5.973 5.985m0-15.96h15.93c3.298 0 5.973-2.68 5.973-5.986a5.98 5.98 0 0 0 -5.974-5.985h-15.929c-3.299 0-5.973 2.68-5.973 5.985a5.979 5.979 0 0 0 5.973 5.985" fill="#ecb12f"></path><path d="m0 38.054a5.979 5.979 0 0 0 5.973 5.985 5.98 5.98 0 0 0 5.974-5.985v-5.985h-5.974c-3.299 0-5.973 2.68-5.973 5.985m15.929 0v15.96c0 3.306 2.674 5.986 5.973 5.986a5.98 5.98 0 0 0 5.974-5.985v-15.961a5.979 5.979 0 0 0 -5.974-5.985c-3.299 0-5.973 2.68-5.973 5.985" fill="#ecb12f"></path></g></svg>
			slack</div>
</div> with these formatted messages.
			Wait until your alarm will be sent or test your lambda function with
			


<div class="content svelte-di12y6"><span class="black background svelte-di12y6">cloudwatch.json</span>
</div>.
		
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/191331943-60753b0b-ab87-4949-bddf-2835cc14448a.png" alt="Slack app" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>
		<div class="content svelte-1nb29p1">If your slack application is configured correctly, you also can consider changing your app
			display information.
		
</div>
		<div class="container svelte-5snfk9"><div class="header svelte-5snfk9"><div class="tab"></div></div>
	<figure><img src="https://user-images.githubusercontent.com/52372569/191542446-d1da30fd-780a-4785-89e9-482eca395876.png" alt="Slack app" style="max-width: 100%;" slot="image">
		<figcaption class="svelte-5snfk9"></figcaption></figure>
	<div class="footer svelte-5snfk9"></div>
</div>

		
		<div class="footer svelte-59dbvb"> Copyright 2022
	<span class="color svelte-59dbvb">Laminar</span>
</div></div></div>
	<div class="right svelte-1qm0kvv"><div slot="right"><div class="container svelte-1dabl0w"><div class="message svelte-1dabl0w">Last Updated</div>
	<div class="date svelte-1dabl0w"><div class="content svelte-1dabl0w">2022/09/22</div></div>
</div>
		<div class="container svelte-nsz5jp"><div class="message svelte-nsz5jp">Status</div>
	<div class="status svelte-nsz5jp"><div class="content svelte-nsz5jp">Published
			</div></div>
</div>
		<div class="container svelte-1cfd7z1"><div class="message svelte-1cfd7z1">Tags</div>
	<div class="tag svelte-1cfd7z1"><div class="content svelte-1cfd7z1">Slack
			</div><div class="content svelte-1cfd7z1">AWS
			</div><div class="content svelte-1cfd7z1">RDS
			</div></div>
</div></div></div>
</div>
</main>


		<script type="module" data-sveltekit-hydrate="zmo555">
		import { start } from "/blog/_app/immutable/start-a607c09b.js";

		start({
			env: {},
			hydrate: {
				status: 200,
				error: null,
				node_ids: [0, 6],
				params: {},
				routeId: "posts/2022/09/01",
				data: (function(a){return [null,{type:"data",data:{lastUpdate:"2022\u002F09\u002F22",status:["Published"],codeHighlight:{json:[{fileName:"cloudwatch.json",body:"{\n    \"Records\": [\n        {\n            \"EventSource\": \"aws:sns\",\n            \"EventVersion\": \"1.0\",\n            \"EventSubscriptionArn\": \"arn:aws:sns:ap-southeast-1:123456789012:laminar:a6ea4892-f3e6-499c-a854-f53f544eef04\",\n            \"Sns\": {\n                \"Type\": \"Notification\",\n                \"MessageId\": \"57977499-a9d2-5e38-8b55-2f1bed8777af\",\n                \"TopicArn\": \"arn:aws:sns:ap-southeast-1:123456789012:laminar\",\n                \"Subject\": \"OK: \"my-alarm\" in Asia Pacific (Singapore)\",\n                \"Message\": \"{\"AlarmName\":\"my-alarm\",\"AlarmDescription\":null,\"AWSAccountId\":\"123456789012\",\"AlarmConfigurationUpdatedTimestamp\":\"2022-08-26T03:45:34.563+0000\",\"NewStateValue\":\"OK\",\"NewStateReason\":\"Threshold Crossed: 1 out of the last 1 datapoints [3.6266666666666665 (26\u002F08\u002F22 03:40:00)] was not less than the threshold (1.0) (minimum 1 datapoint for ALARM -\u003E OK transition).\",\"StateChangeTime\":\"2022-08-26T03:46:29.897+0000\",\"Region\":\"Asia Pacific (Singapore)\",\"AlarmArn\":\"arn:aws:cloudwatch:ap-southeast-1:123456789012:alarm:my-alarm\",\"OldStateValue\":\"ALARM\",\"OKActions\":[\"arn:aws:sns:ap-southeast-1:123456789012:laminar\"],\"AlarmActions\":[\"arn:aws:sns:ap-southeast-1:123456789012:laminar\"],\"InsufficientDataActions\":[],\"Trigger\":{\"MetricName\":\"CPUUtilization\",\"Namespace\":\"AWS\u002FRDS\",\"StatisticType\":\"Statistic\",\"Statistic\":\"AVERAGE\",\"Unit\":null,\"Dimensions\":[{\"value\":\"database-1\",\"name\":\"DBInstanceIdentifier\"}],\"Period\":300,\"EvaluationPeriods\":1,\"DatapointsToAlarm\":1,\"ComparisonOperator\":\"LessThanThreshold\",\"Threshold\":1.0,\"TreatMissingData\":\"missing\",\"EvaluateLowSampleCountPercentile\":\"\"}}\",\n                \"Timestamp\": \"2022-08-26T03:46:29.953Z\",\n            }\n        }\n    ]\n}"}],python:[{fileName:"lambda_function.py",body:"from datetime import datetime\nimport module.slack as slack\n\ndef lambda_handler(event, context):\n    message = True\n\n    try:\n        sns = event[\"Records\"][0][\"Sns\"]\n    except Exception as error:\n        # Debug errors\n        print(error)\n\n        # Give a notification to an administrator\n        sns = {\n            \"Subject\": \"Fail to parse a coming sns event.\",\n            \"Timestamp\": datetime.now(),\n        }\n\n        # Change message value to False\n        message = False\n\n    finally:\n        slack.post(sns, message)"},{fileName:"slack.py",body:"import os\nimport json\nimport requests\nfrom datetime import datetime, timezone, timedelta\n\n# Slack\n# Get from https:\u002F\u002Fapi.slack.com\u002Fapps\ntoken = os.environ[\"token\"]\nchannel_id = os.environ[\"channel_id\"]\n\nmethod = \"POST\"\nheaders = {\"Content-Type\": \"application\u002Fjson\", \"Authorization\": f\"Bearer {token}\"}\nurl = \"https:\u002F\u002Fslack.com\u002Fapi\u002Fchat.postMessage\"\n\n# Unnecessary cloudwatch alarms\ncloudwatch_keys = [\n    \"AWSAccountId\",\n    \"AlarmConfigurationUpdatedTimestamp\",\n    \"OKActions\",\n    \"AlarmActions\",\n    \"InsufficientDataActions\",\n    \"AlarmArn\",\n]\nrds_keys = [\"Identifier Link\", \"Source ARN\"]\n\ndef create_message(sns, msg=True):\n    if msg:\n        message = json.loads(sns[\"Message\"])\n\n        if len(message.keys()) \u003E= 10:\n            message_block = [\n                {\n                    \"type\": \"divider\",\n                },\n                {\n                    \"type\": \"section\",\n                    \"fields\": [\n                        {\"type\": \"mrkdwn\", \"text\": f\"*{k}:*\\n\u003E{message[k]}\\n\"}\n                        for k in list(message.keys())[:10]\n                        if k not in cloudwatch_keys + rds_keys\n                    ],\n                },\n            ]\n        else:\n            message_block = [\n                {\n                    \"type\": \"divider\",\n                },\n                {\n                    \"type\": \"section\",\n                    \"fields\": [\n                        {\"type\": \"mrkdwn\", \"text\": f\"*{k}:*\\n\u003E{message[k]}\\n\"}\n                        for k in message.keys()\n                        if k not in cloudwatch_keys + rds_keys\n                    ],\n                },\n            ]\n    else:\n        message_block = []\n    \n    return json.dumps(\n        {\n            \"channel\": channel_id,\n            \"text\": f\"{sns['Subject']} \\n\",\n            \"blocks\": [\n                {\n                    \"type\": \"header\",\n                    \"text\": {\"type\": \"plain_text\", \"text\": sns[\"Subject\"]},\n                },\n            ]\n            + message_block,\n        }\n    )\n        \ndef post(sns, msg):\n    data = create_message(sns, msg)\n    response = requests.request(method, url, headers=headers, data=data)\n    output = response.json()\n\n    return output\n"}],bash:[{fileName:"Bash",body:"pip install requests -t ."}]}},uses:{dependencies:a,params:a,parent:a,url:a}}]}(void 0)),
				form: null
			},
			paths: {"base":"/blog","assets":"/blog"},
			target: document.querySelector('[data-sveltekit-hydrate="zmo555"]').parentNode,
			trailing_slash: "never"
		});
	</script>
	
	</body>
</html>
